<!DOCTYPE html>
<html style="height: 100%">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta charset="utf-8">
</head>
<body style="height: 100%; margin: 0">
<div id="container" style="height: 100%"></div>
<script type="text/javascript" src="./echarts.min.js"></script>
<script type="text/javascript" src="./jiangsu.js"></script>
<script type="text/javascript" src="./data.js"></script>
<script type="text/javascript" src="./jquery.min.js"></script>
<script type="text/javascript">



            var dom =document.getElementById("container");
            var myChart =echarts.init(dom);
            var temp;
            var click=0
             echarts.registerMap('anhui', jiangsu);




             myChart.on('click', function(e) {
             var chooseName = mapDate.filter(item => {
             return item.name == e.name
            });


           if(typeof(chooseName[0].name) != undefined){
             click ++
             if(click==1){
               temp =chooseName[0].json
             }

             changMap(chooseName[0].json)
            window.wx.doTrainFinish(e.name)
           }


          });
     var app ={};
 function loadEcharts(echartJson){
                var option = JSON.parse(echartJson);
                if (option &&typeof option ==="object") {

                   myChart.setOption(option);

                }
            }
            function changMap(json){
              echarts.registerMap('anhui', json);
            }
            function mainMap(echartJson){
            click --
            if(click==0){
              echarts.registerMap('anhui', jiangsu);
            }else{
              echarts.registerMap('anhui', temp);
            }

             var option = JSON.parse(echartJson);
                if (option &&typeof option ==="object") {

                   myChart.setOption(option);

                }

            }










</script>
</body>
</html>